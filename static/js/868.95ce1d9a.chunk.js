"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[868],{868:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var r,a,i,o,s,c,u,d,l=t(2791),m=t(9434),x=t(6916),p=function(n){return n.contacts.items},h=function(n){return n.contacts.isLoading},f=(0,x.P1)([p,function(n){return n.filter}],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),b=t(9439),j=t(3634),Z=t(168),g=t(5867),v=g.ZP.div(r||(r=(0,Z.Z)(["\n  display:flex;\n  flex-direction: row;\n  gap: 10px;\n"]))),y=g.ZP.button(a||(a=(0,Z.Z)(["\n  font-size:14px;\n  border-radius: 5px;\n  border: 1px solid lightgrey;\n"]))),C=t(5705),w=t(7948),k=t.n(w),P=t(6727),z=(0,g.ZP)(C.l0)(i||(i=(0,Z.Z)(["\n  display:flex;\n  flex-direction:column;\n  gap: 15px;\n  border: 1px solid black;\n  border-radius:5px;\n  padding: 10px;\n"]))),A=g.ZP.label(o||(o=(0,Z.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),I=(0,g.ZP)(C.gN)(s||(s=(0,Z.Z)(["\n \n"]))),N=(0,g.ZP)(C.Bc)(c||(c=(0,Z.Z)(["\ncolor: red;\nfont-size:12px;  \n"]))),_=t(184),q=P.Ry().shape({name:P.Z_().test("name","Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",(function(n){return/^[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407 ]+((['][a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407 ])?[a-zA-Z\u0430-\u044f\u0410-\u042f\u0456\u0406\u0457\u0407]*)*$/.test(n)})).required("Required"),number:P.Z_().test("number","Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",(function(n){return/\+?\d{1,4}?[ .\-\s]?\(?\d{1,3}?\)?[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,9}/.test(n)})).required("Required")}),L=function(){var n=(0,m.v9)(p),e=(0,m.I0)();return(0,_.jsx)(C.J9,{initialValues:{name:"",number:""},validationSchema:q,onSubmit:function(t,r){return function(t,r){n.some((function(n){return n.name.toLowerCase()===t.name.toLowerCase()||n.number===t.number}))?alert("".concat(t.name," or ").concat(t.number," is already in contacts.")):(e((0,j.uK)(t)),r.resetForm())}(t,r)},children:(0,_.jsxs)(z,{children:[(0,_.jsxs)(A,{children:["Name",(0,_.jsx)(I,{name:"name",type:"text"}),(0,_.jsx)(N,{name:"name",component:"span"})]}),(0,_.jsxs)(A,{children:["Number",(0,_.jsx)(I,{name:"number",type:"tel"}),(0,_.jsx)(N,{name:"number",component:"span"})]}),(0,_.jsx)("button",{type:"submit",children:"Add contact"})]})})},S={overlay:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(229, 227, 234, 0.8)",zIndex:"1200"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",padding:"0",border:"none",maxWidth:"calc(100vw - 48px)",maxHeight:"calc(100vh - 24px)",overflow:"hidden"}},F=function(n){var e=n.isOpen,t=n.contact,r=n.onClose,a=(0,m.I0)();return(0,_.jsx)(k(),{isOpen:e,onClose:r,style:S,children:(0,_.jsxs)("div",{children:[(0,_.jsx)("h2",{children:"Edit Contact"}),(0,_.jsx)(C.J9,{initialValues:{id:t.id,name:t.name,number:t.number},validationSchema:q,onSubmit:function(n){return function(n,e){a((0,j.mP)(n)),r()}(n)},children:(0,_.jsxs)(z,{children:[(0,_.jsxs)(A,{children:["Name",(0,_.jsx)(I,{name:"name",type:"text"}),(0,_.jsx)(N,{name:"name",component:"span"})]}),(0,_.jsxs)(A,{children:["Number",(0,_.jsx)(I,{name:"number",type:"tel"}),(0,_.jsx)(N,{name:"number",component:"span"})]}),(0,_.jsx)("button",{type:"submit",children:"Edit contact"}),(0,_.jsx)("button",{onClick:r,children:"Close"})]})})]})})},R=function(n){var e=n.contact,t=(0,m.I0)(),r=(0,l.useState)(!1),a=(0,b.Z)(r,2),i=a[0],o=a[1],s=e.id,c=e.name,u=e.number;return(0,_.jsxs)(v,{children:[(0,_.jsxs)("p",{children:[c,": ",u]}),(0,_.jsx)(y,{onClick:function(){return t((0,j.GK)(s))},children:"Delete"}),(0,_.jsx)("button",{onClick:function(){o(!0)},children:"edit "}),i&&(0,_.jsx)(F,{isOpen:i,contact:{id:s,name:c,number:u},onClose:function(){o(!1)}})]})},E=g.ZP.ul(u||(u=(0,Z.Z)(["\n  padding:10px;\n"]))),J=g.ZP.li(d||(d=(0,Z.Z)(["\n  margin-bottom:8px;\n"]))),O=function(){var n=(0,m.v9)(f);return(0,_.jsx)(E,{children:n.map((function(n){return(0,_.jsx)(J,{children:(0,_.jsx)(R,{contact:n})},n.id)}))})};function B(){var n=(0,m.I0)(),e=(0,m.v9)(h);return(0,l.useEffect)((function(){n((0,j.yF)())}),[n]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(L,{}),(0,_.jsx)("div",{children:e&&"Request in progress..."}),(0,_.jsx)(O,{})]})}}}]);
//# sourceMappingURL=868.95ce1d9a.chunk.js.map